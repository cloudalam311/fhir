import { BatchReadWriteRequest, BatchReadWriteResponse, TypeOperation, SystemOperation } from 'fhir-works-on-aws-interface';
import { DynamoDB } from 'aws-sdk';
import DynamoDbHelper from './dynamoDbHelper';
export interface ItemRequest {
    id: string;
    vid?: number;
    resourceType: string;
    operation: TypeOperation | SystemOperation;
    isOriginalUpdateItem?: boolean;
}
export default class DynamoDbBundleServiceHelper {
    static generateStagingRequests(requests: BatchReadWriteRequest[], idToVersionId: Record<string, number>, tenantId?: string): {
        deleteRequests: any;
        createRequests: any;
        updateRequests: any;
        readRequests: any;
        newLocks: ItemRequest[];
        newStagingResponses: BatchReadWriteResponse[];
    };
    static generateRollbackRequests(bundleEntryResponses: BatchReadWriteResponse[], tenantId?: string): {
        transactionRequests: any;
        itemsToRemoveFromLock: {
            id: string;
            vid: string;
            resourceType: string;
        }[];
    };
    private static generateDeleteLatestRecordAndItemToRemoveFromLock;
    static populateBundleEntryResponseWithReadResult(bundleEntryResponses: BatchReadWriteResponse[], readResult: any): BatchReadWriteResponse[];
    private static addStagingResponseAndItemsLocked;
    static sortBatchRequests(requests: BatchReadWriteRequest[], dynamoDbHelper: DynamoDbHelper, tenantId?: string): Promise<{
        deleteRequests: any[];
        writeRequests: any[];
        batchReadWriteResponses: BatchReadWriteResponse[];
    }>;
    static processBatchEditRequests(editRequests: any[], batchReadWriteResponses: BatchReadWriteResponse[], dynamoDb: DynamoDB): Promise<BatchReadWriteResponse[]>;
    static processBatchDeleteRequests(deleteRequests: any[], batchReadWriteResponses: BatchReadWriteResponse[], dynamoDb: DynamoDB): Promise<BatchReadWriteResponse[]>;
}
